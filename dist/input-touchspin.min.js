/*!
* @erwinstone/input-touchspin v1.0.3 (https://input-touchspin.vercel.app/)
* Copyright 2023 erwinstone
* Licensed under MIT (https://github.com/erwinstone/input-touchspin/blob/master/LICENSE)
*/(function(e,n){typeof exports=="object"&&typeof module!="undefined"?module.exports=n():typeof define=="function"&&define.amd?define(n):(e=typeof globalThis!="undefined"?globalThis:e||self,e.InputTouchspin=n())})(this,function(){"use strict";const e=["mouseup","mouseleave","touchend"];class n{#e;#n;#s;#i=["input[data-touchspin-input]","[data-touchspin-input] input"];#u="input-touchspin-style";#p=`
	${[...this.#i.map(t=>`${t}::-webkit-inner-spin-button`),...this.#i.map(t=>`${t}::-webkit-outer-spin-button`)].join()} {
		margin:0;
		-webkit-appearance:none;
	}
	${this.#i.join()} {
		-moz-appearance:textfield;
	}
	`;#a;#r;constructor(t){this.#e=t.querySelector(this.#i.join()),this.#n=t.querySelector("[data-touchspin-up]"),this.#s=t.querySelector("[data-touchspin-down]"),this.#l(),this.#e&&!this.#e.readOnly&&!this.#e.disabled&&(this.cleanUp(),this.#d())}#l(){if(document.getElementById(this.#u)===null){const t=document.createElement("style");t.id=this.#u,t.textContent=this.#p,document.head.appendChild(t)}}#t={onSpinUpMouseDown:()=>this.#h(),onSpinDownMouseDown:()=>this.#h(!1),onSpinUpTouchStart:t=>{this.#h(),t.cancelable&&t.preventDefault()},onSpinDownTouchStart:t=>{this.#h(!1),t.cancelable&&t.preventDefault()},onSpinButtonReleased:()=>this.#c(),onWheel:t=>{Math.sign(t.deltaY)<1?this.#o():this.#o(!1),t.preventDefault()}};#d(){this.#n.addEventListener("mousedown",this.#t.onSpinUpMouseDown),this.#s.addEventListener("mousedown",this.#t.onSpinDownMouseDown),this.#n.addEventListener("touchstart",this.#t.onSpinUpTouchStart),this.#s.addEventListener("touchstart",this.#t.onSpinDownTouchStart),Array.from(e).forEach(t=>{this.#n.addEventListener(t,this.#t.onSpinButtonReleased),this.#s.addEventListener(t,this.#t.onSpinButtonReleased)}),this.#e.addEventListener("wheel",this.#t.onWheel)}#c(){clearTimeout(this.#a),clearInterval(this.#r)}#o(t=!0){const s=this.#e.value;t?this.#e.stepUp():this.#e.stepDown();const i=this.#e.value;s!==i&&this.#e.dispatchEvent(new Event("change"))}#h(t=!0){this.#o(t),this.#a=setTimeout(()=>this.#r=setInterval(()=>this.#o(t),50),300)}cleanUp(){this.#n.removeEventListener("mousedown",this.#t.onSpinUpMouseDown),this.#s.removeEventListener("mousedown",this.#t.onSpinDownMouseDown),this.#n.removeEventListener("touchstart",this.#t.onSpinUpTouchStart),this.#s.removeEventListener("touchstart",this.#t.onSpinDownTouchStart),Array.from(e).forEach(t=>{this.#n.removeEventListener(t,this.#t.onSpinButtonReleased),this.#s.removeEventListener(t,this.#t.onSpinButtonReleased)}),this.#e.removeEventListener("wheel",this.#t.onWheel)}}return n});
