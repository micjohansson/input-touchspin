/*!
* @erwinstone/input-touchspin v1.0.3 (https://input-touchspin.vercel.app/)
* Copyright 2023 erwinstone
* Licensed under MIT (https://github.com/erwinstone/input-touchspin/blob/master/LICENSE)
*/const e=["mouseup","mouseleave","touchend"];class i{#e;#n;#s;#i=["input[data-touchspin-input]","[data-touchspin-input] input"];#a="input-touchspin-style";#p=`
	${[...this.#i.map(t=>`${t}::-webkit-inner-spin-button`),...this.#i.map(t=>`${t}::-webkit-outer-spin-button`)].join()} {
		margin:0;
		-webkit-appearance:none;
	}
	${this.#i.join()} {
		-moz-appearance:textfield;
	}
	`;#r;#u;constructor(t){this.#e=t.querySelector(this.#i.join()),this.#n=t.querySelector("[data-touchspin-up]"),this.#s=t.querySelector("[data-touchspin-down]"),this.#l(),this.#e&&!this.#e.readOnly&&!this.#e.disabled&&(this.cleanUp(),this.#c())}#l(){if(document.getElementById(this.#a)===null){const t=document.createElement("style");t.id=this.#a,t.textContent=this.#p,document.head.appendChild(t)}}#t={onSpinUpMouseDown:()=>this.#h(),onSpinDownMouseDown:()=>this.#h(!1),onSpinUpTouchStart:t=>{this.#h(),t.cancelable&&t.preventDefault()},onSpinDownTouchStart:t=>{this.#h(!1),t.cancelable&&t.preventDefault()},onSpinButtonReleased:()=>this.#d(),onWheel:t=>{Math.sign(t.deltaY)<1?this.#o():this.#o(!1),t.preventDefault()}};#c(){this.#n.addEventListener("mousedown",this.#t.onSpinUpMouseDown),this.#s.addEventListener("mousedown",this.#t.onSpinDownMouseDown),this.#n.addEventListener("touchstart",this.#t.onSpinUpTouchStart),this.#s.addEventListener("touchstart",this.#t.onSpinDownTouchStart),Array.from(e).forEach(t=>{this.#n.addEventListener(t,this.#t.onSpinButtonReleased),this.#s.addEventListener(t,this.#t.onSpinButtonReleased)}),this.#e.addEventListener("wheel",this.#t.onWheel)}#d(){clearTimeout(this.#r),clearInterval(this.#u)}#o(t=!0){const n=this.#e.value;t?this.#e.stepUp():this.#e.stepDown();const s=this.#e.value;n!==s&&this.#e.dispatchEvent(new Event("change"))}#h(t=!0){this.#o(t),this.#r=setTimeout(()=>this.#u=setInterval(()=>this.#o(t),50),300)}cleanUp(){this.#n.removeEventListener("mousedown",this.#t.onSpinUpMouseDown),this.#s.removeEventListener("mousedown",this.#t.onSpinDownMouseDown),this.#n.removeEventListener("touchstart",this.#t.onSpinUpTouchStart),this.#s.removeEventListener("touchstart",this.#t.onSpinDownTouchStart),Array.from(e).forEach(t=>{this.#n.removeEventListener(t,this.#t.onSpinButtonReleased),this.#s.removeEventListener(t,this.#t.onSpinButtonReleased)}),this.#e.removeEventListener("wheel",this.#t.onWheel)}}export{i as default};
